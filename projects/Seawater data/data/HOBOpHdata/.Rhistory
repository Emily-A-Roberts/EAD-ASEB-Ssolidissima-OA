setwd("~/GitHub/EAD-ASEB-Ssolidissima-OA/projects/Seawater data/data/HOBOpHdata")
#| include: FALSE
library(ggplot2)
library(ggpubr)
library(dplyr)
library(lubridate)
data_combined_new <- data.frame(
Site = NA,
Date = NA,
Temp = NA,
pH = NA
)
# working directories
wdDen <- "~/GitHub/EAD-ASEB-Ssolidissima-OA/projects/Seawater data/data/HOBOpHdata/Dennis"
wdPtown <- "~/GitHub/EAD-ASEB-Ssolidissima-OA/projects/Seawater data/data/HOBOpHdata/Ptown"
wdEel <- "~/GitHub/EAD-ASEB-Ssolidissima-OA/projects/Seawater data/data/HOBOpHdata/Eel_Pond"
setwd(wdDen)
filenames <- dir()
filenames
# Late June to early Aug
#(open_file <- filenames[1]) # "1230_East_Dennis 2022-08-05 16_12_44 EDT (Data EDT).csv"
open_file <- "1230_East_Dennis 2022-08-05 16_12_44 EDT (Data EDT).csv"
#Also works: (open_file <- filenames[2]) # "1230_East_Dennis 2022-09-21 09_29_48 EDT (Data EDT).csv"
df <- read.csv(open_file, stringsAsFactors = F)
open_file
#Also works: (open_file <- filenames[2]) # "1230_East_Dennis 2022-09-21 09_29_48 EDT (Data EDT).csv"
df <- read.csv(open_file, stringsAsFactors = F)
setwd(wdDen)
# Late June to early Aug
#(open_file <- filenames[1]) # "1230_East_Dennis 2022-08-05 16_12_44 EDT (Data EDT).csv"
open_file <- "1230_East_Dennis 2022-08-05 16_12_44 EDT (Data EDT).csv"
#Also works: (open_file <- filenames[2]) # "1230_East_Dennis 2022-09-21 09_29_48 EDT (Data EDT).csv"
df <- read.csv(open_file, stringsAsFactors = F)
df$datetime <- as.POSIXct(strptime(df$Date.Time..EDT., format = "%m/%d/%Y %H:%M:%S"))
plot(df$datetime, df$Ch..3...pH....pH.)
df <- df[df$datetime<"2022-08-04 00:00:00 EDT",]
plot(df$datetime, df$Ch..3...pH....pH., type = "l")
plot(df$datetime, df$Ch..1...Temperature.....C.., type = "l")
plot(df$Ch..1...Temperature.....C.., df$Ch..3...pH....pH., pch = '.')
data_combined_new <- data.frame(
Site = rep("Den",times = nrow(df)),
Date = df$datetime,
Temp = df$Ch..1...Temperature.....C..,
pH = df$Ch..3...pH....pH.
)
data_combined <- rbind(data_combined_new)
#| include: FALSE
library(ggplot2)
library(ggpubr)
library(dplyr)
library(lubridate)
data_combined_new <- data.frame(
Site = NA,
Date = NA,
Temp = NA,
pH = NA
)
# working directories
wdDen <- "~/GitHub/EAD-ASEB-Ssolidissima-OA/projects/Seawater data/data/HOBOpHdata/Dennis"
wdPtown <- "~/GitHub/EAD-ASEB-Ssolidissima-OA/projects/Seawater data/data/HOBOpHdata/Ptown"
wdEel <- "~/GitHub/EAD-ASEB-Ssolidissima-OA/projects/Seawater data/data/HOBOpHdata/Eel_Pond"
setwd(wdDen)
filenames <- dir()
filenames
setwd(wdDen)
# Late June to early Aug
#(open_file <- filenames[1]) # "1230_East_Dennis 2022-08-05 16_12_44 EDT (Data EDT).csv"
open_file <- "1230_East_Dennis 2022-08-05 16_12_44 EDT (Data EDT).csv"
#Also works: (open_file <- filenames[2]) # "1230_East_Dennis 2022-09-21 09_29_48 EDT (Data EDT).csv"
df <- read.csv(open_file, stringsAsFactors = F)
df$datetime <- as.POSIXct(strptime(df$Date.Time..EDT., format = "%m/%d/%Y %H:%M:%S"))
plot(df$datetime, df$Ch..3...pH....pH.)
df <- df[df$datetime<"2022-08-04 00:00:00 EDT",]
plot(df$datetime, df$Ch..3...pH....pH., type = "l")
plot(df$datetime, df$Ch..1...Temperature.....C.., type = "l")
plot(df$Ch..1...Temperature.....C.., df$Ch..3...pH....pH., pch = '.')
data_combined_new <- data.frame(
Site = rep("Den",times = nrow(df)),
Date = df$datetime,
Temp = df$Ch..1...Temperature.....C..,
pH = df$Ch..3...pH....pH.
)
data_combined <- rbind(data_combined_new)
setwd(wdDen)
# Late June to early Aug
#(open_file <- filenames[1]) # "1230_East_Dennis 2022-08-05 16_12_44 EDT (Data EDT).csv"
open_file <- "1230_East_Dennis 2022-08-05 16_12_44 EDT (Data EDT).csv"
#Also works: (open_file <- filenames[2]) # "1230_East_Dennis 2022-09-21 09_29_48 EDT (Data EDT).csv"
df <- read.csv(open_file, stringsAsFactors = F)
df$datetime <- as.POSIXct(strptime(df$Date.Time..EDT., format = "%m/%d/%Y %H:%M:%S"))
plot(df$datetime, df$Ch..3...pH....pH.)
df <- df[df$datetime<"2022-08-04 00:00:00 EDT",]
plot(df$datetime, df$Ch..3...pH....pH., type = "l")
plot(df$datetime, df$Ch..1...Temperature.....C.., type = "l")
plot(df$Ch..1...Temperature.....C.., df$Ch..3...pH....pH., pch = '.')
data_combined_new <- data.frame(
Site = rep("Den",times = nrow(df)),
Date = df$datetime,
Temp = df$Ch..1...Temperature.....C..,
pH = df$Ch..3...pH....pH.
)
data_combined <- rbind(data_combined_new)
setwd(wdDen)
# Aug to mid September
#"Den_077 2022-09-14 14_08_26 EDT (Data EDT).csv"
#"Den_077 2022-09-21 09_28_37 EDT (Data EDT)(1).csv" is the same file read out later on
#(open_file <- filenames[3])
open_file <- "Den_077 2022-09-14 14_08_26 EDT (Data EDT).csv"
df <- read.csv(open_file, stringsAsFactors = F)
df$datetime <- as.POSIXct(strptime(df$Date.Time..EDT., format = "%m/%d/%Y %H:%M:%S"))
plot(df$datetime, df$Ch..3...pH....pH.)
df <- df[df$datetime>"2022-08-05 00:00:00 EDT",]
df <- df[df$datetime<"2022-09-13 00:00:00 EDT",]
plot(df$datetime, df$Ch..3...pH....pH., type = "l")
plot(df$datetime, df$Ch..1...Temperature.....C.., type = "l")
plot(df$Ch..1...Temperature.....C.., df$Ch..3...pH....pH., pch = '.')
data_combined_new <- data.frame(
Site = rep("Den",times = nrow(df)),
Date = df$datetime,
Temp = df$Ch..1...Temperature.....C..,
pH = df$Ch..3...pH....pH.
)
data_combined <- rbind(data_combined,data_combined_new)
head(data_combined_new)
tail(data_combined_new)
setwd(wdPtown)
filenames <- dir()
filenames
setwd(wdPtown)
# mid June to August
(open_file <- filenames[2])
df <- read.csv(open_file, stringsAsFactors = F)
head(df)
df$datetime <- as.POSIXct(strptime(df$Date.Time..EDT., format = "%m/%d/%Y %H:%M:%S"))
plot(df$datetime, df$Ch..3...pH....pH.)
df <- df[df$datetime<"2022-08-03 00:00:00 EDT",]
plot(df$datetime, df$Ch..3...pH....pH., type = "l")
plot(df$datetime, df$Ch..1...Temperature.....C.., type = "l")
plot(df$Ch..1...Temperature.....C.., df$Ch..3...pH....pH., pch = '.')
data_combined_new <- data.frame(
Site = rep("Ptown",times = nrow(df)),
Date = df$datetime,
Temp = df$Ch..1...Temperature.....C..,
pH = df$Ch..3...pH....pH.
)
data_combined <- rbind(data_combined,data_combined_new)
setwd(wdPtown)
# August
(open_file <- filenames[6])
open_file <- "Ptown_075 2022-08-29 21_52_54 EDT (Data EDT).csv"
df <- read.csv(open_file, stringsAsFactors = F)
head(df)
tail(df)
df$datetime <- as.POSIXct(strptime(df$Date.Time..EDT., format = "%m/%d/%Y %H:%M:%S"))
plot(df$datetime, df$Ch..3...pH....pH.)
df <- df[df$datetime>"2022-08-04 00:00:00 EDT",]
df <- df[df$datetime<"2022-08-29 00:00:00 EDT",]
#plot(df$datetime, df$Ch..3...pH....pH., type = "l")
#plot(df$datetime, df$Ch..1...Temperature.....C.., type = "l")
#plot(df$Ch..1...Temperature.....C.., df$Ch..3...pH....pH., pch = '.')
data_combined_new <- data.frame(
Site = rep("Ptown",times = nrow(df)),
Date = df$datetime,
Temp = df$Ch..1...Temperature.....C..,
pH = df$Ch..3...pH....pH.
)
data_combined <- rbind(data_combined,data_combined_new)
setwd(wdPtown)
# September
open_file <- "Ptown_20573560_Ptown 2022-09-29 17_27_52 EDT (Data EDT).csv"
df <- read.csv(open_file, stringsAsFactors = F)
head(df)
tail(df)
df$datetime <- as.POSIXct(strptime(df$Date.Time..EDT., format = "%m/%d/%Y %H:%M:%S"))
plot(df$datetime, df$Ch..3...pH....pH.)
df <- df[df$datetime>"2022-08-30 00:00:00 EDT",]
df <- df[df$datetime<"2022-09-26 00:00:00 EDT",]
plot(df$datetime, df$Ch..3...pH....pH., type = "l")
plot(df$datetime, df$Ch..1...Temperature.....C.., type = "l")
plot(df$Ch..1...Temperature.....C.., df$Ch..3...pH....pH., pch = '.')
data_combined_new <- data.frame(
Site = rep("Ptown",times = nrow(df)),
Date = df$datetime,
Temp = df$Ch..1...Temperature.....C..,
pH = df$Ch..3...pH....pH.
)
data_combined <- rbind(data_combined,data_combined_new)
setwd(wdPtown)
# October
# This sensor seems to be deployed at Eel pond originally, recalibrated without a change in the name,
# and then moved to Ptown. The segment at Ptown starts late in the day on 9/27/22
filenames
open_file <- "21333340_Eel_Pond 2022-11-07 15_11_16 EST (Data EST)_actuallyPtown.csv"
df <- read.csv(open_file, stringsAsFactors = F)
head(df)
tail(df,80)
df$datetime <- as.POSIXct(strptime(df$Date.Time..EST., format = "%m/%d/%Y %H:%M:%S")) #Switch to EST????
plot(df$datetime, df$Ch..3...pH....pH.)
# df <- df[df$datetime>"2022-09-25 00:00:00 EDT",]
# df <- df[df$datetime<"2022-09-29 13:00:00 EDT",]
df <- df[df$datetime>"2022-09-28 00:00:00 EDT",]
df <- df[df$datetime<"2022-11-07 13:00:00 EDT",]
plot(df$datetime, df$Ch..3...pH....pH., type = "l")
plot(df$datetime, df$Ch..1...Temperature.....C.., type = "p")
plot(df$Ch..1...Temperature.....C.., df$Ch..3...pH....pH., pch = '.')
data_combined_new <- data.frame(
Site = rep("Ptown",times = nrow(df)),
Date = df$datetime,
Temp = df$Ch..1...Temperature.....C..,
pH = df$Ch..3...pH....pH.
)
data_combined <- rbind(data_combined,data_combined_new)
setwd(wdPtown)
# November
open_file <- "Ptown_076 2022-12-05 21_20_00 EST (Data EST).csv"
df <- read.csv(open_file, stringsAsFactors = F)
head(df)
tail(df,80)
df$datetime <- as.POSIXct(strptime(df$Date.Time..EST., format = "%m/%d/%Y %H:%M:%S")) #Switch to EST????
plot(df$datetime, df$Ch..3...pH....pH.)
#df <- df[df$datetime>"2022-08-30 00:00:00 EDT",]
df <- df[df$datetime<"2022-12-04 00:00:00 EDT",]
plot(df$datetime, df$Ch..3...pH....pH., type = "l")
plot(df$datetime, df$Ch..1...Temperature.....C.., type = "l")
plot(df$Ch..1...Temperature.....C.., df$Ch..3...pH....pH., pch = '.')
data_combined_new <- data.frame(
Site = rep("Ptown",times = nrow(df)),
Date = df$datetime,
Temp = df$Ch..1...Temperature.....C..,
pH = df$Ch..3...pH....pH.
)
data_combined <- rbind(data_combined,data_combined_new)
setwd(wdEel)
filenames <- dir()
setwd(wdEel)
#mid June to Aug
#(open_file <- filenames[2])
(open_file <- "21333340_Eel_Pond 2022-08-05 17_43_02 EDT (Data EDT).csv")
df <- read.csv(open_file, stringsAsFactors = F)
df$datetime <- as.POSIXct(strptime(df$Date.Time..EDT., format = "%m/%d/%Y %H:%M:%S"))
plot(df$datetime, df$Ch..3...pH....pH.)
df <- df[df$datetime<"2022-08-01 00:00:00 EDT",]
df <- df[df$datetime>"2022-06-17 00:00:00 EDT",]
plot(df$datetime, df$Ch..3...pH....pH., type = "l")
plot(df$datetime, df$Ch..1...Temperature.....C.., type = "l")
plot(df$Ch..1...Temperature.....C.., df$Ch..3...pH....pH., pch = '.')
data_combined_new <- data.frame(
Site = rep("Eel",times = nrow(df)),
Date = df$datetime,
Temp = df$Ch..1...Temperature.....C..,
pH = df$Ch..3...pH....pH.
)
data_combined <- rbind(data_combined,data_combined_new)
# Aug to lateAug is on logger that is still logging in Eel Pond and
# needs to be retrieved.
# There was an issue with the tool when swapping them out
setwd(wdEel)
#Aug to lateAug
(open_file <- filenames[4])
(open_file <- "Eel_076 2022-09-27 13_35_57 EDT (Data EDT).csv")
df <- read.csv(open_file, stringsAsFactors = F)
df$datetime <- as.POSIXct(strptime(df$Date.Time..EDT., format = "%m/%d/%Y %H:%M:%S"))
plot(df$datetime, df$Ch..3...pH....pH.)
df <- df[df$datetime<"2022-08-30 00:00:00 EDT",]
df <- df[df$datetime>"2022-08-02 00:00:00 EDT",]
plot(df$datetime, df$Ch..3...pH....pH., type = "l")
plot(df$datetime, df$Ch..1...Temperature.....C.., type = "l")
plot(df$Ch..1...Temperature.....C.., df$Ch..3...pH....pH., pch = '.')
data_combined_new <- data.frame(
Site = rep("Eel",times = nrow(df)),
Date = df$datetime,
Temp = df$Ch..1...Temperature.....C..,
pH = df$Ch..3...pH....pH.
)
data_combined <- rbind(data_combined,data_combined_new)
# Aug to lateAug is on logger that is still logging in Eel Pond and
# needs to be retrieved.
# There was an issue with the tool when swapping them out
# # lateAug to mid Sep (was still logging and deployed -
# # but lost ~14 days of data due to calibrating before downloading data)
# (open_file <- filenames[3])
# open_file <- "21333340_Eel_Pond 2022-09-11 18_27_18 EDT (Data EDT).csv"
#
# df <- read.csv(open_file, stringsAsFactors = F)
# df$datetime <- as.POSIXct(strptime(df$Date.Time..EDT., format = "%m/%d/%Y %H:%M:%S"))
# plot(df$datetime, df$Ch..3...pH....pH.)
# df <- df[df$datetime>"2022-08-31 00:00:00 EDT",]
# df <- df[df$datetime<"2022-09-11 00:00:00 EDT",]
# plot(df$datetime, df$Ch..3...pH....pH., type = "l")
# plot(df$datetime, df$Ch..1...Temperature.....C.., type = "l")
# plot(df$Ch..1...Temperature.....C.., df$Ch..3...pH....pH., pch = '.')
#
# data_combined_new <- data.frame(
#   Site = rep("Eel",times = nrow(df)),
#   Date = df$datetime,
#   Temp = df$Ch..1...Temperature.....C..,
#   pH = df$Ch..3...pH....pH.
# )
#
#
# data_combined <- rbind(data_combined,data_combined_new)
setwd(wdEel)
# #October???
# #October is not clear.
# #If the other legger was still logging and deployed at this site
# (open_file <- filenames[3])
# open_file <- "Eel_076 2022-11-07 15_16_01 EST (Data EST)(1).csv"
# head(df, 20)
# df <- read.csv(open_file, stringsAsFactors = F)
# df$datetime <- as.POSIXct(strptime(df$Date.Time..EST., format = "%m/%d/%Y %H:%M:%S")) #Change to EST
# plot(df$datetime, df$Ch..3...pH....pH.)
#  df <- df[df$datetime>"2022-09-25 00:00:00 EDT",]
# # df <- df[df$datetime<"2022-09-30 00:00:00 EDT",]
#
# #df <- df[df$datetime<"2022-08-31 00:00:00 EDT",]
# #df <- df[df$datetime>"2022-08-26 00:00:00 EDT",]
# plot(df$datetime, df$Ch..3...pH....pH., type = "l")
# plot(df$datetime, df$Ch..1...Temperature.....C.., type = "p")
# plot(df$Ch..1...Temperature.....C.., df$Ch..3...pH....pH., pch = '.')
#
# data_combined_new <- data.frame(
#   Site = rep("Eel",times = nrow(df)),
#   Date = df$datetime,
#   Temp = df$Ch..1...Temperature.....C..,
#   pH = df$Ch..3...pH....pH.
# )
#
#
# data_combined <- rbind(data_combined,data_combined_new)
# October
# This sensor seems to be deployed at Eel pond originally, recalibrated without a change in the name,
# and then moved to Ptown. The segment at Eel Pond ends on Monday 9/26/22.
# It was deployed on 8/31/22. Which is a day we were at Eel Pond
filenames
open_file <- "21333340_Eel_Pond 2022-11-07 15_11_16 EST (Data EST)_actuallyPtown.csv"
df <- read.csv(open_file, stringsAsFactors = F)
head(df)
tail(df,80)
df$datetime <- as.POSIXct(strptime(df$Date.Time..EST., format = "%m/%d/%Y %H:%M:%S")) #Switch to EST????
plot(df$datetime, df$Ch..3...pH....pH.)
# df <- df[df$datetime>"2022-09-25 00:00:00 EDT",]
# df <- df[df$datetime<"2022-09-29 13:00:00 EDT",]
df <- df[df$datetime>"2022-08-31 00:00:00 EDT",]
df <- df[df$datetime<"2022-09-26 13:00:00 EDT",]
plot(df$datetime, df$Ch..3...pH....pH., type = "l")
plot(df$datetime, df$Ch..1...Temperature.....C.., type = "p")
plot(df$Ch..1...Temperature.....C.., df$Ch..3...pH....pH., pch = '.')
data_combined_new <- data.frame(
Site = rep("Ptown",times = nrow(df)),
Date = df$datetime,
Temp = df$Ch..1...Temperature.....C..,
pH = df$Ch..3...pH....pH.
)
data_combined <- rbind(data_combined,data_combined_new)
# October
(open_file <- filenames[3])
open_file <- "Eel_076 2022-11-07 15_16_01 EST (Data EST)(1).csv"
head(df, 20)
df <- read.csv(open_file, stringsAsFactors = F)
df$datetime <- as.POSIXct(strptime(df$Date.Time..EST., format = "%m/%d/%Y %H:%M:%S")) #Change to EST
plot(df$datetime, df$Ch..3...pH....pH.)
df <- df[df$datetime>"2022-09-29 00:00:00 EDT",]
df <- df[df$datetime<"2022-11-06 00:00:00 EDT",]
plot(df$datetime, df$Ch..3...pH....pH., type = "l")
plot(df$datetime, df$Ch..1...Temperature.....C.., type = "l")
plot(df$Ch..1...Temperature.....C.., df$Ch..3...pH....pH., pch = '.')
data_combined_new <- data.frame(
Site = rep("Eel",times = nrow(df)),
Date = df$datetime,
Temp = df$Ch..1...Temperature.....C..,
pH = df$Ch..3...pH....pH.
)
data_combined <- rbind(data_combined,data_combined_new)
setwd(wdEel)
# November
#(open_file <- filenames[3])
open_file <- "20573560_Ptown 2022-12-05 16_55_15 EST (Data EST)_actuallyEel.csv"
df <- read.csv(open_file, stringsAsFactors = F)
df$datetime <- as.POSIXct(strptime(df$Date.Time..EST., format = "%m/%d/%Y %H:%M:%S")) #Change to EST
plot(df$datetime, df$Ch..3...pH....pH.)
df <- df[df$datetime>"2022-11-07 00:00:00 EDT",]
df <- df[df$datetime<"2022-12-05 00:00:00 EDT",]
plot(df$datetime, df$Ch..3...pH....pH., type = "l")
plot(df$datetime, df$Ch..1...Temperature.....C.., type = "l")
plot(df$Ch..1...Temperature.....C.., df$Ch..3...pH....pH., pch = '.')
data_combined_new <- data.frame(
Site = rep("Eel",times = nrow(df)),
Date = df$datetime,
Temp = df$Ch..1...Temperature.....C..,
pH = df$Ch..3...pH....pH.
)
data_combined <- rbind(data_combined,data_combined_new)
#plot(data_combined$Date, data_combined$pH,
#color = as.factor(data_combined$Site), pch = ".")
g1 <- ggplot(data_combined, aes(x=Date, y=pH, colour = Site))+
geom_point(cex = .1) +
scale_color_manual(values=c("blue", "green", "orange"))
g1
g2 <- ggplot(data_combined, aes(x=Date, y=Temp, colour = Site))+
geom_point(cex = .1) +
scale_color_manual(values=c("blue", "green", "orange"))
ggarrange(g1, g2)
min(data_combined$Date)
# Plot tides
setwd("~/Documents/School and jobs/Milford/Surfclam OA/Environmental conditions/Tides")
