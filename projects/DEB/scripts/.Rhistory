#
str(Ptown_cond)
Ptown.1 <- Ptown_cond[,c("Date","Cond_High","Temp")]
gg3 <- gg2+
geom_point(data = Ptown_cond, aes(x=Date,y=Temp), color = "purple", cex = 1)
gg3
plot(Ptown_cond$Date, Ptown_cond$Cond_High, type = "l")
data_dir <- "~/GitHub/EAD-ASEB-Ssolidissima-OA/projects/Seawater data/data/Conductivity/"
Ptown_cond <- read.csv(paste(data_dir,"21446049_Ptown_Dec22.csv",sep=""), skip = 2, stringsAsFactors = FALSE)
names(Ptown_cond) <- c("n","Date","Cond_Low","Cond_High","Temp","Other")
str(Ptown_cond)
Ptown_cond$Date <- as.POSIXct(Ptown_cond$Date, format = "%m/%d/%Y %H:%M")
#
#
h <- head(Ptown_cond,1000)
plot(data = h,Temp~Date)
Ptown_cond <- Ptown_cond[Ptown_cond$Date > "2022-09-27 20:00:00",]
t <- tail(Ptown_cond,1000)
plot(data = t,Temp~Date)
Ptown_cond <- Ptown_cond[Ptown_cond$Date < "2022-12-04 13:00:00",]
#
str(Ptown_cond)
Ptown.2 <- Ptown_cond[,c("Date","Cond_High","Temp")]
gg3 <- gg2+
geom_point(data = Ptown_cond, aes(x=Date,y=Temp), color = "purple", cex = 1)
gg3
plot(Ptown_cond$Date, Ptown_cond$Cond_High, type = "l")
data_dir <- "~/GitHub/EAD-ASEB-Ssolidissima-OA/projects/Seawater data/data/Conductivity/"
Ptown_cond <- read.csv(paste(data_dir,"21446049_Ptown_Jul23.csv",sep=""), skip = 2, stringsAsFactors = FALSE)
names(Ptown_cond) <- c("n","Date","Cond_Low","Cond_High","Temp","Other")
str(Ptown_cond)
Ptown_cond$Date <- as.POSIXct(Ptown_cond$Date, format = "%m/%d/%Y %H:%M")
#
#
h <- head(Ptown_cond,1000)
plot(data = h,Temp~Date)
Ptown_cond <- Ptown_cond[Ptown_cond$Date > "2023-04-17 15:00:00",]
t <- tail(Ptown_cond,1000)
plot(data = t,Temp~Date)
Ptown_cond <- Ptown_cond[Ptown_cond$Date < "2023-07-19 12:00:00",]
#
str(Ptown_cond)
Ptown.3 <- Ptown_cond[,c("Date","Cond_High","Temp")]
Ptown_cond <- rbind(Ptown.1, Ptown.2, Ptown.3)
gg3 <- gg2+
geom_point(data = Ptown_cond, aes(x=Date,y=Temp), color = "purple", cex = 1)
gg3
plot(Ptown_cond$Date, Ptown_cond$Cond_High, type = "l")
data_dir <- "~/GitHub/EAD-ASEB-Ssolidissima-OA/projects/Seawater data/data/SW temp HOBO/"
Den_cond <- read.csv(paste(data_dir,"10709184_East_Dennis.csv",sep=""), skip = 2, stringsAsFactors = FALSE)
names(Den_cond) <- c("n","Date","Temp","Other")
str(Den_cond)
Den_cond$Date <- as.POSIXct(Den_cond$Date, format = "%m/%d/%Y %H:%M")
#
#
h <- head(Den_cond,1000)
plot(data = h,Temp~Date)
Den_cond <- Den_cond[Den_cond$Date > "2022-06-17 12:00:00",]
t <- tail(Den_cond,1000)
plot(data = t,Temp~Date)
Den_cond <- Den_cond[Den_cond$Date < "2023-09-12",]
#
str(Den_cond)
gg3 <- gg2+
geom_point(data = Den_cond, aes(x=Date,y=Temp), color = "purple", cex = 1)
gg3
#| column: screen
#| out-width: 100%
#| fig-format: svg
library(zoo)
library(lubridate)
Ptown_sediment <- Ptown_sediment[,c("Date","Temp")]
# to.minutes15(Ptown)[,4] # interpolate for each 15 min interval
# format(round_date(as.POSIXct(paste("1900-01-01 ", x)), unit="15 mins"), "%M")
str(Ptown)
Ptown$Date <- round_date(Ptown$Date, unit="15 mins")
tail(Eel$Date)
Ptown.sed <- merge(Ptown, Ptown_sediment, by = "Date",
#all = TRUE ,
suffixes = c("",".sediment"))
Ptown.sed$season <- cut(lubridate::yday(Ptown.sed$Date - lubridate::days(79)),
breaks = c(0, 93, 187, 276, Inf),
labels = c("Spring", "Summer", "Autumn", "Winter"))
Ptown.sed <- Ptown.sed[!is.na(Ptown.sed$season),]
Ptown.sed <- Ptown.sed[Ptown.sed$season!="Winter",]
head(Ptown_sediment$Date) #The sediment logger is on the 15 minute interval.
Eel_sediment <- Eel_sediment[,c("Date","Temp")]
Eel$Date <- round_date(Eel$Date, unit="15 mins")
Eel.sed <- merge(Eel, Eel_sediment, by = "Date",
#all.x = TRUE ,
suffixes = c("",".sediment"))
Eel.sed$season <- cut(lubridate::yday(Eel.sed$Date - lubridate::days(79)),
breaks = c(0, 93, 187, 276, Inf),
labels = c("Spring", "Summer", "Autumn", "Winter"))
Eel.sed$diel <- cut(lubridate::hour(Eel.sed$Date - lubridate::hour(6)),
breaks = c(0, 12, Inf),
labels = c("Day", "Night"))
ggplot(Ptown, aes(y = pH, x = Date))+#, group = tide_group, color = state))+
geom_line()+
ggtitle("Ptown")
ggplot(Ptown.sed, aes(y = pH, x = Date, group = tide_group, color = state))+
geom_line()+
ggtitle("Ptown")+
facet_wrap(vars(season), scales = "free", nrow = 3)
ggplot(Eel, aes(y = pH, x = Date))+#, group = tide_group, color = state))+
geom_line()+
ggtitle("Eel Pond")
ggplot(Eel.sed, aes(y = pH, x = Date, group = tide_group, color = state))+
geom_line()+
ggtitle("Eel Pond")+
facet_wrap(vars(season), scales = "free", nrow = 3)
ggplot(Ptown.sed, aes(y = Temp-Temp.sediment, x = Tideheight, group = tide_group, color = state))+
geom_line()+
facet_wrap(~season)+  ggtitle("Provincetown")
ggplot(Ptown.sed, aes(y = pH, x = Tideheight, group = tide_group, color = state))+
geom_line()+
facet_wrap(~season)+  ggtitle("Provincetown")
ggplot(Ptown.sed, aes(y = pH, x = Tideheight, group = tide_group, color = state))+
geom_line()+
facet_wrap(~month(Date))+  ggtitle("Provincetown")
Eel.sed$temp.diff <- Eel.sed$Temp-Eel.sed$Temp.sediment
ggplot(Eel.sed, aes(y = Temp-Temp.sediment, x = Tideheight, group = tide_group, color = state))+
geom_line()+
facet_wrap(~season)+  ggtitle("Eel Pond")
ggplot(Eel.sed, aes(y = pH, x = Tideheight, group = tide_group, color = state))+
geom_line()+
facet_wrap(~season) +  ggtitle("Eel Pond")
# result.P <- Ptown.sed %>%
#   group_by(tide_group) %>%
#   reframe(#initial_flood = first(Tideheight[state == "Flood"]),
#             #final_ebb = last(Tideheight[state == "Ebb"]),
#             final_ebb_pH = pH[which(Tideheight ==
#                                     last(Tideheight[state == "Ebb"]))],
#             initial_flood_pH = pH[which(Tideheight ==
#                                     first(Tideheight[state == "Flood"]))],
#             sediment_temp = mean(Temp.sediment, na.rm = TRUE),
#             #difference = last(Tideheight[state == "Ebb"]) - first(Tideheight[state == "Flood"])
#             )
#
# result.E <- Eel.sed %>%
#   group_by(tide_group) %>%
#   reframe(#initial_flood = first(Tideheight[state == "Flood"]),
#             #final_ebb = last(Tideheight[state == "Ebb"]),
#             final_ebb_pH = pH[which(Tideheight ==
#                                     last(Tideheight[state == "Ebb"]))],
#             initial_flood_pH = pH[which(Tideheight ==
#                                     first(Tideheight[state == "Flood"]))],
#             sediment_temp = mean(Temp.sediment, na.rm = TRUE),
#             difference = last(Tideheight[state == "Ebb"]) - first(Tideheight[state == "Flood"])
#              )
# #
#
# ggplot(result, aes(y =  final_ebb_pH, x = initial_flood_pH))+
#   geom_point()+
#   ylim(7.5,8.5)+
#   xlim(7.5,8.5)
#
#
# result$change <- result$initial_flood_pH-result$final_ebb_pH
# ggplot(result, aes(y =  change, x = sediment_temp))+
#   geom_point()
# #+
#  # ylim(7.5,8.5)+
#   #xlim(7.5,8.5)
carb_dat$Site
ggplot(Ptown, aes(y = pH, x = Date))+#, group = tide_group, color = state))+
geom_line()+
ggtitle("Ptown")
ggplot(Ptown.sed, aes(y = pH, x = Date, group = tide_group, color = state))+
geom_line()+
ggtitle("Ptown")+
facet_wrap(vars(season), scales = "free", nrow = 3) +
geom_point(data = carb_dat[carb_dat$Stratum=="Bottom water"&carb_dat$Site=="Ptown",],aes(x=Date, y = InSitu.pH, colour = Site),cex = 2, pch=22)
ggplot(Ptown, aes(y = pH, x = Date))+#, group = tide_group, color = state))+
geom_line()+
ggtitle("Ptown")
ggplot(Ptown.sed, aes(y = pH, x = Date, group = tide_group, color = state))+
geom_line()+
ggtitle("Ptown")+
facet_wrap(vars(season), scales = "free", nrow = 3) +
geom_point(data = carb_dat[carb_dat$Stratum=="Bottom water"&carb_dat$Site=="Ptown",],aes(x=Date, y = InSitu.pH, colour = Site),cex = 2, pch=22)
carb_dat.P <- carb_dat[carb_dat$Stratum=="Bottom water"&carb_dat$Site=="Ptown",]
ggplot(Ptown.sed, aes(y = pH, x = Date, group = tide_group, color = state))+
geom_line()+
ggtitle("Ptown")+
facet_wrap(vars(season), scales = "free", nrow = 3) +
geom_point(data = carb_dat.P,aes(x=Date, y = InSitu.pH, colour = Site),cex = 2, pch=22)
carb_dat$season <- cut(lubridate::yday(carb_dat$Date - lubridate::days(79)),
breaks = c(0, 93, 187, 276, Inf),
labels = c("Spring", "Summer", "Autumn", "Winter"))
carb_dat.P <- carb_dat[carb_dat$Stratum=="Bottom water"&carb_dat$Site=="Ptown",]
carb_dat.E <- carb_dat[carb_dat$Stratum=="Bottom water"&carb_dat$Site=="Eel",]
ggplot(Ptown, aes(y = pH, x = Date))+#, group = tide_group, color = state))+
geom_line()+
ggtitle("Ptown")
ggplot(Ptown.sed, aes(y = pH, x = Date, group = tide_group, color = state))+
geom_line()+
ggtitle("Ptown")+
facet_wrap(vars(season), scales = "free", nrow = 3) +
geom_point(data = carb_dat.P,aes(x=Date, y = InSitu.pH, colour = Site),cex = 2, pch=22)
ggplot(Ptown.sed, aes(y = pH, x = Date, group = tide_group, color = state))+
geom_line()+
ggtitle("Ptown")+
facet_wrap(vars(season), scales = "free", nrow = 3) +
geom_point(data = carb_dat.P, aes(x=Date, y = InSitu.pH),cex = 2, pch=22)
ggplot(Ptown.sed, aes(y = pH, x = Date, group = tide_group, color = state))+
geom_line()+
ggtitle("Ptown")+
facet_wrap(vars(season), scales = "free", nrow = 3)
ggplot(Ptown.sed, aes(y = pH, x = Date, group = tide_group, color = state))+
geom_line()+
ggtitle("Ptown")+
#facet_wrap(vars(season), scales = "free", nrow = 3)
#+
geom_point(data = carb_dat.P, aes(x=Date, y = InSitu.pH),cex = 2, pch=22)
ggplot(Ptown.sed, aes(y = pH, x = Date, #group = tide_group,
color = state))+
geom_line()+
ggtitle("Ptown")+
#facet_wrap(vars(season), scales = "free", nrow = 3)
#+
geom_point(data = carb_dat.P, aes(x=Date, y = InSitu.pH),cex = 2, pch=22)
ggplot(Ptown.sed, aes(y = pH, x = Date, group = tide_group,
color = state))+
geom_line()+
ggtitle("Ptown")+
#facet_wrap(vars(season), scales = "free", nrow = 3)
#+
geom_point(data = carb_dat.P, aes(x=Date, y = InSitu.pH),cex = 2, pch=22)
ggplot(Ptown.sed, aes(y = pH, x = Date))+
geom_line(aes(group = tide_group,
color = state))+
ggtitle("Ptown")+
#facet_wrap(vars(season), scales = "free", nrow = 3)
#+
geom_point(data = carb_dat.P, aes(x=Date, y = InSitu.pH),cex = 2, pch=22)
ggplot(Ptown.sed, aes(y = pH, x = Date))+
geom_line(aes(group = tide_group,
color = state))+
ggtitle("Ptown")+
facet_wrap(vars(season), scales = "free", nrow = 3)+
geom_point(data = carb_dat.P, aes(x=Date, y = InSitu.pH),cex = 2, pch=22)
ggplot(Ptown.sed, aes(y = pH, x = Date))+
geom_line(aes(group = tide_group,
color = state))+
ggtitle("Ptown")+
facet_wrap(vars(season), scales = "free", nrow = 4)+
geom_point(data = carb_dat.P, aes(x=Date, y = InSitu.pH),cex = 2, pch=22)
carb_dat$season <- cut(lubridate::yday(carb_dat$Date - lubridate::days(79)),
breaks = c(0, 93, 187, 276, Inf),
labels = c("Spring", "Summer", "Autumn", "Winter"))
carb_dat.P <- carb_dat[carb_dat$Stratum=="Bottom water"&carb_dat$Site=="Ptown",]
carb_dat.E <- carb_dat[carb_dat$Stratum=="Bottom water"&carb_dat$Site=="Eel",]
ggplot(Ptown, aes(y = pH, x = Date))+#, group = tide_group, color = state))+
geom_line()+
ggtitle("Ptown")
ggplot(Ptown.sed, aes(y = pH, x = Date))+
geom_line(aes(group = tide_group,
color = state))+
ggtitle("Ptown")+
facet_wrap(vars(season), scales = "free", nrow = 4)+
geom_point(data = carb_dat.P, aes(x=Date, y = InSitu.pH),cex = 2, pch=22)
ggplot(Eel, aes(y = pH, x = Date))+#, group = tide_group, color = state))+
geom_line()+
ggtitle("Eel Pond")
ggplot(Eel.sed, aes(y = pH, x = Date, group = tide_group, color = state))+
geom_line()+
ggtitle("Eel Pond")+
facet_wrap(vars(season), scales = "free", nrow = 3)+
geom_point(data = carb_dat.E, aes(x=Date, y = InSitu.pH),cex = 2, pch=22)
ggplot(Eel.sed, aes(y = pH, x = Date))+
geom_line(aes(group = tide_group, color = state))+
ggtitle("Eel Pond")+
facet_wrap(vars(season), scales = "free", nrow = 3)+
geom_point(data = carb_dat.E, aes(x=Date, y = InSitu.pH),cex = 2, pch=22)
carb_dat$season <- cut(lubridate::yday(carb_dat$Date - lubridate::days(79)),
breaks = c(0, 93, 187, 276, Inf),
labels = c("Spring", "Summer", "Autumn", "Winter"))
carb_dat$season <- factor(carb_dat$season, levels=c("Autumn", "Winter","Spring", "Summer"))
Ptown.sed$season <- factor(Ptown$season, levels=c("Autumn", "Winter","Spring", "Summer"))
carb_dat$season <- cut(lubridate::yday(carb_dat$Date - lubridate::days(79)),
breaks = c(0, 93, 187, 276, Inf),
labels = c("Spring", "Summer", "Autumn", "Winter"))
carb_dat$season <- factor(carb_dat$season, levels=c("Autumn", "Winter","Spring", "Summer"))
Ptown.sed$season <- factor(Ptown.sed$season, levels=c("Autumn", "Winter","Spring", "Summer"))
Eel.sed$season <- factor(Eel.sed$season, levels=c("Autumn", "Winter","Spring", "Summer"))
carb_dat.P <- carb_dat[carb_dat$Stratum=="Bottom water"&carb_dat$Site=="Ptown",]
carb_dat.E <- carb_dat[carb_dat$Stratum=="Bottom water"&carb_dat$Site=="Eel",]
ggplot(Ptown, aes(y = pH, x = Date))+#, group = tide_group, color = state))+
geom_line()+
ggtitle("Ptown")
ggplot(Ptown.sed, aes(y = pH, x = Date))+
geom_line(aes(group = tide_group,
color = state))+
ggtitle("Ptown")+
facet_wrap(vars(season), scales = "free", nrow = 4)+
geom_point(data = carb_dat.P, aes(x=Date, y = InSitu.pH),cex = 2, pch=22)
ggplot(Eel, aes(y = pH, x = Date))+#, group = tide_group, color = state))+
geom_line()+
ggtitle("Eel Pond")
ggplot(Eel.sed, aes(y = pH, x = Date))+
geom_line(aes(group = tide_group, color = state))+
ggtitle("Eel Pond")+
facet_wrap(vars(season), scales = "free", nrow = 3)+
geom_point(data = carb_dat.E, aes(x=Date, y = InSitu.pH),cex = 2, pch=22)
mean_offset
ggplot(Ptown.sed, aes(y = pH, x = Date))+
geom_line(aes(group = tide_group,
color = state))+
ggtitle("Ptown")+
facet_wrap(vars(season), scales = "free", nrow = 4)+
geom_point(data = carb_dat.P, aes(x=Date, y = InSitu.pH),cex = 2, pch=22)+
scale_x_date (limits = c (min(Ptown.sed$Date),max(Ptown.sed$Date))))
ggplot(Ptown.sed, aes(y = pH, x = Date))+
geom_line(aes(group = tide_group,
color = state))+
ggtitle("Ptown")+
facet_wrap(vars(season), scales = "free", nrow = 4)+
geom_point(data = carb_dat.P, aes(x=Date, y = InSitu.pH),cex = 2, pch=22)+
scale_x_date (limits = c (min(Ptown.sed$Date),max(Ptown.sed$Date)))
(min(Ptown.sed$Date)
)
ggplot(Ptown.sed, aes(y = pH, x = Date))+
geom_line(aes(group = tide_group,
color = state))+
ggtitle("Ptown")+
facet_wrap(vars(season), scales = "free", nrow = 4)+
geom_point(data = carb_dat.P, aes(x=Date, y = InSitu.pH),cex = 2, pch=22)+
scale_x_date (limits = as.Date(c(min(Ptown.sed$Date),max(Ptown.sed$Date))))
as.Date(c(min(Ptown.sed$Date),max(Ptown.sed$Date)))
as.Date(c(min(Ptown.sed$Date),max(Ptown.sed$Date)))
lim.P <- as.Date(c(min(Ptown.sed$Date),max(Ptown.sed$Date)))
ggplot(Ptown.sed, aes(y = pH, x = Date))+
geom_line(aes(group = tide_group,
color = state))+
ggtitle("Ptown")+
facet_wrap(vars(season), scales = "free", nrow = 4)+
geom_point(data = carb_dat.P, aes(x=Date, y = InSitu.pH),cex = 2, pch=22)+
scale_x_date (limits = lim.P)
str(lim.P)
ggplot(Ptown.sed, aes(y = pH, x = Date))+
geom_line(aes(group = tide_group,
color = state))+
ggtitle("Ptown")+
lim.P
ggplot(Ptown.sed, aes(y = pH, x = Date))+
geom_line(aes(group = tide_group,
color = state))+
ggtitle("Ptown")+
scale_x_date (limits = lim.P)
lim.P <- as.POSIXct(c(min(Ptown.sed$Date),max(Ptown.sed$Date)))
ggplot(Ptown.sed, aes(y = pH, x = Date))+
geom_line(aes(group = tide_group,
color = state))+
ggtitle("Ptown")+
scale_x_date(limits = lim.P)
ggplot(Ptown.sed, aes(y = pH, x = Date))+
geom_line(aes(group = tide_group,
color = state))+
ggtitle("Ptown")+
scale_x_datetime(limits = lim.P)
carb_dat$season <- cut(lubridate::yday(carb_dat$Date - lubridate::days(79)),
breaks = c(0, 93, 187, 276, Inf),
labels = c("Spring", "Summer", "Autumn", "Winter"))
carb_dat$season <- factor(carb_dat$season, levels=c("Autumn", "Winter","Spring", "Summer"))
Ptown.sed$season <- factor(Ptown.sed$season, levels=c("Autumn", "Winter","Spring", "Summer"))
Eel.sed$season <- factor(Eel.sed$season, levels=c("Autumn", "Winter","Spring", "Summer"))
carb_dat.P <- carb_dat[carb_dat$Stratum=="Bottom water"&carb_dat$Site=="Ptown",]
carb_dat.E <- carb_dat[carb_dat$Stratum=="Bottom water"&carb_dat$Site=="Eel",]
lim.P <- as.POSIXct(c(min(Ptown.sed$Date),max(Ptown.sed$Date)))
lim.E <- as.POSIXct(c(min(Eel.sed$Date),max(Eel.sed$Date)))
ggplot(Ptown, aes(y = pH, x = Date))+#, group = tide_group, color = state))+
geom_line()+
ggtitle("Ptown")
ggplot(Ptown.sed, aes(y = pH, x = Date))+
geom_line(aes(group = tide_group,
color = state))+
ggtitle("Ptown")+
scale_x_datetime(limits = lim.P)+
facet_wrap(vars(season), scales = "free", nrow = 4)+
geom_point(data = carb_dat.P, aes(x=Date, y = InSitu.pH),cex = 2, pch=22)
ggplot(Eel, aes(y = pH, x = Date))+#, group = tide_group, color = state))+
geom_line()+
ggtitle("Eel Pond")
ggplot(Eel.sed, aes(y = pH, x = Date))+
geom_line(aes(group = tide_group, color = state))+
ggtitle("Eel Pond")+
scale_x_datetime(limits = lim.E)+
facet_wrap(vars(season), scales = "free", nrow = 4)+
geom_point(data = carb_dat.E, aes(x=Date, y = InSitu.pH),cex = 2, pch=22)
install.packages("lemon")
ggplot(Ptown.sed, aes(y = pH, x = Date))+
geom_line(aes(group = tide_group,
color = state))+
ggtitle("Ptown")+
scale_x_datetime(limits = lim.P)+
#facet_wrap(vars(season), scales = "free", nrow = 4)+
facet_rep_wrap(~season, scales="free", nrow = 4)+
geom_point(data = carb_dat.P, aes(x=Date, y = InSitu.pH),cex = 2, pch=22)
library(lemon)
carb_dat$season <- cut(lubridate::yday(carb_dat$Date - lubridate::days(79)),
breaks = c(0, 93, 187, 276, Inf),
labels = c("Spring", "Summer", "Autumn", "Winter"))
carb_dat$season <- factor(carb_dat$season, levels=c("Autumn", "Winter","Spring", "Summer"))
Ptown.sed$season <- factor(Ptown.sed$season, levels=c("Autumn", "Winter","Spring", "Summer"))
Eel.sed$season <- factor(Eel.sed$season, levels=c("Autumn", "Winter","Spring", "Summer"))
carb_dat.P <- carb_dat[carb_dat$Stratum=="Bottom water"&carb_dat$Site=="Ptown",]
carb_dat.E <- carb_dat[carb_dat$Stratum=="Bottom water"&carb_dat$Site=="Eel",]
lim.P <- as.POSIXct(c(min(Ptown.sed$Date),max(Ptown.sed$Date)))
lim.E <- as.POSIXct(c(min(Eel.sed$Date),max(Eel.sed$Date)))
ggplot(Ptown, aes(y = pH, x = Date))+#, group = tide_group, color = state))+
geom_line()+
ggtitle("Ptown")
ggplot(Ptown.sed, aes(y = pH, x = Date))+
geom_line(aes(group = tide_group,
color = state))+
ggtitle("Ptown")+
scale_x_datetime(limits = lim.P)+
#facet_wrap(vars(season), scales = "free", nrow = 4)+
facet_rep_wrap(~season, scales="free", nrow = 4)+
geom_point(data = carb_dat.P, aes(x=Date, y = InSitu.pH),cex = 2, pch=22)
ggplot(Eel, aes(y = pH, x = Date))+#, group = tide_group, color = state))+
geom_line()+
ggtitle("Eel Pond")
ggplot(Eel.sed, aes(y = pH, x = Date))+
geom_line(aes(group = tide_group, color = state))+
ggtitle("Eel Pond")+
scale_x_datetime(limits = lim.E)+
facet_wrap(vars(season), scales = "free", nrow = 4)+
geom_point(data = carb_dat.E, aes(x=Date, y = InSitu.pH),cex = 2, pch=22)
as.POSIXct(c(min(Ptown.sed$Date),max(Ptown.sed$Date)))
as.POSIXct(c(min(Eel.sed$Date),max(Eel.sed$Date)))
carb_dat <- carb_dat[carb_dat$Date >min(Eel.sed$Date)&carb_dat$Date<max(Ptown.sed$Date)]
carb_dat <- carb_dat[carb_dat$Date>min(Eel.sed$Date) & carb_dat$Date<max(Ptown.sed$Date)]
carb_dat <- carb_dat[carb_dat$Date>min(Eel.sed$Date) & carb_dat$Date<max(Ptown.sed$Date),]
library(lemon)
lim.P <- as.POSIXct(c(min(Eel.sed$Date),max(Ptown.sed$Date)))
lim.E <- as.POSIXct(c(min(Eel.sed$Date),max(Ptown.sed$Date)))
carb_dat <- carb_dat[carb_dat$Date>min(Eel.sed$Date) & carb_dat$Date<max(Ptown.sed$Date),]
carb_dat$season <- cut(lubridate::yday(carb_dat$Date - lubridate::days(79)),
breaks = c(0, 93, 187, 276, Inf),
labels = c("Spring", "Summer", "Autumn", "Winter"))
carb_dat$season <- factor(carb_dat$season, levels=c("Autumn", "Winter","Spring", "Summer"))
Ptown.sed$season <- factor(Ptown.sed$season, levels=c("Autumn", "Winter","Spring", "Summer"))
Eel.sed$season <- factor(Eel.sed$season, levels=c("Autumn", "Winter","Spring", "Summer"))
carb_dat.P <- carb_dat[carb_dat$Stratum=="Bottom water"&carb_dat$Site=="Ptown",]
carb_dat.E <- carb_dat[carb_dat$Stratum=="Bottom water"&carb_dat$Site=="Eel",]
ggplot(Ptown, aes(y = pH, x = Date))+#, group = tide_group, color = state))+
geom_line()+
ggtitle("Ptown")
ggplot(Ptown.sed, aes(y = pH, x = Date))+
geom_line(aes(group = tide_group,
color = state))+
ggtitle("Ptown")+
scale_x_datetime(limits = lim.P)+
#facet_wrap(vars(season), scales = "free", nrow = 4)+
facet_rep_wrap(~season, scales="free", nrow = 4)+
geom_point(data = carb_dat.P, aes(x=Date, y = InSitu.pH),cex = 2, pch=22)
ggplot(Eel, aes(y = pH, x = Date))+#, group = tide_group, color = state))+
geom_line()+
ggtitle("Eel Pond")
ggplot(Eel.sed, aes(y = pH, x = Date))+
geom_line(aes(group = tide_group, color = state))+
ggtitle("Eel Pond")+
scale_x_datetime(limits = lim.E)+
facet_wrap(vars(season), scales = "free", nrow = 4)+
geom_point(data = carb_dat.E, aes(x=Date, y = InSitu.pH),cex = 2, pch=22)
library(lemon)
lim.P <- as.POSIXct(c(min(Eel.sed$Date),max(Ptown.sed$Date)))
lim.E <- as.POSIXct(c(min(Eel.sed$Date),max(Ptown.sed$Date)))
carb_dat <- carb_dat[carb_dat$Date>min(Eel.sed$Date) & carb_dat$Date<max(Ptown.sed$Date),]
carb_dat$season <- cut(lubridate::yday(carb_dat$Date - lubridate::days(79)),
breaks = c(0, 93, 187, 276, Inf),
labels = c("Spring", "Summer", "Autumn", "Winter"))
carb_dat$season <- factor(carb_dat$season, levels=c("Autumn", "Winter","Spring", "Summer"))
Ptown.sed$season <- factor(Ptown.sed$season, levels=c("Autumn", "Winter","Spring", "Summer"))
Eel.sed$season <- factor(Eel.sed$season, levels=c("Autumn", "Winter","Spring", "Summer"))
carb_dat.P <- carb_dat[carb_dat$Stratum=="Bottom water"&carb_dat$Site=="Ptown",]
carb_dat.E <- carb_dat[carb_dat$Stratum=="Bottom water"&carb_dat$Site=="Eel",]
ggplot(Ptown, aes(y = pH, x = Date))+#, group = tide_group, color = state))+
geom_line()+
ggtitle("Ptown")
ggplot(Ptown.sed, aes(y = pH, x = Date))+
geom_line(aes(group = tide_group,
color = state))+
ggtitle("Ptown")+
#facet_wrap(vars(season), scales = "free", nrow = 4)+
facet_rep_wrap(~season, scales="free", nrow = 4)+
geom_point(data = carb_dat.P, aes(x=Date, y = InSitu.pH),cex = 2, pch=22)
ggplot(Eel, aes(y = pH, x = Date))+#, group = tide_group, color = state))+
geom_line()+
ggtitle("Eel Pond")
ggplot(Eel.sed, aes(y = pH, x = Date))+
geom_line(aes(group = tide_group, color = state))+
ggtitle("Eel Pond")+
facet_wrap(vars(season), scales = "free", nrow = 4)+
geom_point(data = carb_dat.E, aes(x=Date, y = InSitu.pH),cex = 2, pch=22)
ggplot(Ptown.sed, aes(y = Temp, x = Date))+
geom_line(aes(group = tide_group,
color = state))+
ggtitle("Ptown")+
#facet_wrap(vars(season), scales = "free", nrow = 4)+
facet_rep_wrap(~season, scales="free", nrow = 4)+
geom_point(data = carb_dat.P, aes(x=Date, y = Temp),cex = 2, pch=22)
ggplot(Ptown.sed, aes(y = Temp, x = Date))+
geom_line(aes(group = tide_group,
color = state))+
ggtitle("Ptown")+
#facet_wrap(vars(season), scales = "free", nrow = 4)+
facet_rep_wrap(~season, scales="free", nrow = 4)+
geom_point(data = carb_dat.P, aes(x=Date, y = Water.Sediment..Temp),cex = 2, pch=22)
View(carb_dat)
